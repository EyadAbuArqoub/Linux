
# How to generate postfix mail server statistics from postfix mail logs on RHEL Server?

## Notes

- You can run this steps on the server that has Postfix mail server installed.
- Generate postfix mail server statistics from postfix mail server logs using `pflogsumm` utility; it processes mail logs and creates detailed reports about mail usage on the system which can be used to estimate the performance of the mail server.
- `pflogsumm` is included in `postfix-perl-scripts` package and it is available in following Red Hat Optional Repositories (RHEL6, RHEL 7).
- `postfix-perl-scripts` is available in the Application Stream repository. (rhel-8-for-x86_64-appstream-rpms).
- The `pflogsumm` utility is only designed to create mail usage reports from mail logs generated by the postfix mail server. Other mail servers provided in Red Hat Enterprise Linux, such as Sendmail and Exim, use differently formatted logging which pflogsumm cannot process.

## Steps

```bash
# Install postfix-perl-scripts package
yum install postfix-perl-scripts -y

# Run pflogsumm on mail log file /var/log/maillog
pflogsumm /var/log/maillog

# By default script outputs to stdout and this can be redirected to a file in order to save and review later
pflogsumm /var/log/maillog > PostfixMailServerStatistics.txt
```

## Output Example

```
Postfix log summaries for Sep 7

Grand Totals
------------
messages

    800   received
   1200   delivered
      9   forwarded
      1   deferred  (3  deferrals)
     10   bounced
    820   rejected (40%)
      1   reject warnings
      0   held
      0   discarded (0%)

  86900k  bytes received
 168530k  bytes delivered
    215   senders
    157   sending hosts/domains
    170   recipients
     78   recipient hosts/domains
[...]  
```
